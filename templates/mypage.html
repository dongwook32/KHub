<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>KBU hub | 마이페이지</title>
  <link rel="icon" href="{{ url_for('static', filename='images/logo.png') }}">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/nav.css') }}">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: { peach: '#FFC8B2', peachDeep: '#FF9F80', cream: '#FFF7F2', cocoa:'#6B7280', ink:'#1F2937', mint:'#B7F4E6', lemon:'#FFF3A3' },
          boxShadow: { soft:'0 10px 30px rgba(255,159,128,.18)', glow:'0 0 0 0 rgba(255,159,128,.0)', card:'0 10px 24px rgba(17,24,39,.08)' },
          borderRadius: { bubble:'999px', xl2:'1.25rem' }
        }
      }
    }
  </script>
  <style>
    html, body { font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', sans-serif; }
    .top-grad{ background: radial-gradient(60% 60% at 0% 0%, #FFF0E7 0%, rgba(255,240,231,0) 60%), radial-gradient(60% 60% at 100% 0%, #FFE7DB 0%, rgba(255,231,219,0) 60%); }
    .glass{ background: rgba(255,255,255,.7); backdrop-filter: blur(10px); }
  </style>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/mypage.css') }}">
</head>
<body class="bg-cream">
  <div class="top-grad h-[160px] w-full absolute inset-0 -z-10 pointer-events-none"></div>

  <!-- 헤더 -->
  <header class="fixed top-0 left-0 right-0 z-50 border-b border-peach/40 glass">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-4">
      <a href="{{ url_for('index') }}" class="flex items-center gap-2 font-extrabold text-lg">
        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="KBU hub" class="w-9 h-9 rounded-full shadow-[0_8px_18px_rgba(255,159,128,.25)]">
        <span>hub</span>
      </a>
      <nav class="ml-auto hidden md:flex">
        <div id="navPill" class="nav-pill"></div>
      </nav>
      <button id="menuBtn" class="md:hidden ml-auto p-2 rounded-full border border-peach/60">☰</button>
    </div>
    <div id="mobileNav" class="hidden md:hidden px-4 pb-3 border-t border-peach/40 bg-white/70">
      <div class="flex flex-col gap-1 py-2 text-sm"></div>
    </div>
  </header>

  <main style="margin-top: 80px;">
    <div class="mypage-container">
      <div class="mypage-card">
        <!-- 프로필 헤더 -->
        <div class="profile-header">
          <img src="{{ url_for('static', filename='images/default-profile.png') }}" alt="프로필 사진" class="profile-image">
          <div>
            <h1 class="profile-name">{{ user.name }}</h1>
            <p class="profile-info">{{ user.student_id }} / {{ user.status }}</p>
          </div>
        </div>

        <!-- 프로필 상세 정보 -->
        <div class="profile-details">
          <h2>기본 정보</h2>
          <ul>
            <li><strong>이메일</strong> <span>{{ user.email }}</span></li>
            <li><strong>성별</strong> <span>{{ user.gender }}</span></li>
            <li><strong>생년월일</strong> <span>{{ user.birthday.strftime('%Y년 %m월 %d일') }}</span></li>
          </ul>
        </div>
        
        <!-- 내 활동 (카운트는 나중에 기능 구현 시 추가) -->
        <div class="activity-section">
          <h2>내 활동</h2>
          <div class="activity-grid">
            <div class="activity-item" onclick="goToBoard()">
              <span class="activity-icon">📝</span>
              <span class="activity-label">내가 쓴 글</span>
              <span class="activity-count">0</span>
            </div>
            <div class="activity-item" onclick="goToBoard()">
              <span class="activity-icon">💬</span>
              <span class="activity-label">내가 쓴 댓글</span>
              <span class="activity-count">0</span>
            </div>
          </div>
        </div>

        <!-- 로그아웃 링크 -->
        <div style="margin-top: 2.5rem; text-align: center;">
            <a href="{{ url_for('logout') }}" style="color: #6B7280; text-decoration: underline; font-weight: 500;">로그아웃</a>
        </div>
      </div>
    </div>
  </main>

  <footer class="text-center text-sm text-cocoa py-6 border-t border-peach-50">
      <div>© <span id="year"></span> KBU hub · All rights reserved.</div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('year').textContent = new Date().getFullYear();
    });
    
    function goToBoard() {
        window.location.href = "{{ url_for('boards') }}";
    }
  </script>
  <script src="{{ url_for('static', filename='js/navigation.js') }}"></script>
</body>
</html>


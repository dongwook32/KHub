# KBU Hub - 한국성서대학교 커뮤니티 플랫폼

KBU Hub는 한국성서대학교 학생들을 위한 커뮤니티 플랫폼입니다.

## 주요 기능

### 1. 회원가입 및 로그인
- 학번(9자리)을 아이디로 사용
- 학번 중복 체크 기능 (서버 및 클라이언트 양쪽에서 검증)
- 이메일은 @bible.ac.kr 도메인만 허용
- 사용자 정보는 JSON 파일로 저장

### 2. 게시판
- 학과별 게시판 (성서학과, AI융합학부, 간호학과, 영유아보육학과, 사회복지학과)
- 자유게시판 (모든 학생 접근 가능)
- **게시글 작성 및 삭제** ✨ 새로운 기능
- 좋아요 기능
- 댓글 작성 기능
- 익명 게시 옵션
- 태그 시스템
- 검색 및 정렬 기능

### 3. 마이페이지
- 내 정보 관리
- 익명카드 설정
- **활동 기록 자동 저장** ✨ 새로운 기능
  - 내가 작성한 글
  - 내가 작성한 댓글
  - 좋아요한 글
  - 좋아요한 댓글
- 비밀번호 변경
- 회원 탈퇴

### 4. 채팅 (1:1 매칭)
- 익명 프로필 기반 매칭
- 관심사 기반 매칭

## 기술 스택
- **백엔드**: Flask (Python)
- **프론트엔드**: HTML, CSS (Tailwind CSS), JavaScript
- **데이터 저장**: 
  - 서버: JSON 파일 (registered_users.json)
  - 클라이언트: localStorage (활동 기록, 임시 데이터)

## 설치 및 실행

### 1. 필요한 패키지 설치
```bash
pip install flask
```

### 2. 애플리케이션 실행
```bash
python app.py
```

### 3. 브라우저에서 접속
```
http://localhost:5000
```

## 프로젝트 구조
```
KBU_flask_connected/
├── app.py                    # Flask 메인 애플리케이션
├── registered_users.json     # 사용자 데이터 (자동 생성)
├── static/
│   ├── css/                 # 스타일시트
│   ├── images/              # 이미지 파일
│   └── js/                  # JavaScript 파일
│       ├── boards.js        # 게시판 로직
│       ├── register.js      # 회원가입 검증
│       └── navigation.js    # 네비게이션
└── templates/               # HTML 템플릿
    ├── base.html           # 기본 템플릿
    ├── index.html          # 메인 페이지
    ├── register.html       # 회원가입
    ├── login.html          # 로그인
    ├── boards.html         # 게시판
    ├── mypage.html         # 마이페이지
    └── chat.html           # 채팅

```

## 새로운 기능 상세 설명

### 게시판 글 삭제
- 게시글 상세 페이지에서 삭제 버튼 클릭
- 삭제 확인 후 게시글 및 관련 댓글 모두 삭제
- 마이페이지 활동 기록에서도 자동 제거

### 마이페이지 활동 기록
- 게시글 작성, 댓글 작성, 좋아요 시 자동으로 localStorage에 저장
- 마이페이지에서 "내 활동" 섹션에 실시간 반영
- 각 활동 항목 클릭 시 해당 게시글로 이동 가능
- **로그인 후에만** 마이페이지 접근 가능

### 회원가입 학번 중복 체크
- 클라이언트 측: localStorage에 저장된 학번 목록으로 실시간 검증
- 서버 측: registered_users.json 파일로 최종 검증
- 중복 시 "이미 존재하는 학번입니다" 에러 메시지 표시

### 로그인 시스템 개선
- 회원가입 후 바로 세션에 저장하지 않음
- **반드시 로그인을 해야** 마이페이지 및 게시판 접근 가능
- 로그인 시 Flask 세션과 localStorage에 사용자 정보 저장
- 로그아웃 시 세션 및 localStorage 초기화

## 사용 플로우

### 1. 회원가입
1. 회원가입 페이지에서 정보 입력
2. 학번 중복 체크 (실시간)
3. 회원가입 완료 → 자동으로 로그인 페이지로 이동
4. ⚠️ **이 시점에서는 마이페이지 접근 불가**

### 2. 로그인
1. 로그인 페이지에서 학번과 비밀번호 입력
2. 로그인 성공 → 마이페이지로 이동
3. ✅ **이제 회원가입 시 입력한 정보가 마이페이지에 표시됨**

### 3. 활동
1. 게시판에서 글 작성/댓글/좋아요
2. 모든 활동이 자동으로 localStorage에 기록
3. 마이페이지에서 내 활동 확인 가능

### 4. 로그아웃
1. 마이페이지에서 로그아웃 버튼 클릭
2. 세션 및 currentUser 정보 삭제
3. 메인 페이지로 이동

## 주의사항
- 이 프로젝트는 교육/시연용으로 개발되었습니다.
- 실제 서비스에 사용하려면 다음 사항을 개선해야 합니다:
  - 비밀번호 해시화 (현재는 평문 저장)
  - 실제 데이터베이스 사용 (MySQL, PostgreSQL 등)
  - 세션 보안 강화
  - HTTPS 적용
  - CSRF 보호
  - 파일 업로드 보안

## 라이선스
교육용 프로젝트
